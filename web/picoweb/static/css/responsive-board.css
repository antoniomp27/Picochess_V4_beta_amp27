/* Optimización del tablero para resoluciones específicas */

/* Para resoluciones 1024x600 y 1024x800 */
@media (min-width: 1000px) and (max-width: 1100px) {
    .svg-container {
        display: block;
        position: relative;
        width: 100%;
        padding-bottom: 100%;
        vertical-align: middle;
        overflow: hidden;
    }
    .svg-content {
        display: block;
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
    }
    #board, .cg-board-wrap {
        width: 100%; height: 100%;
        position: absolute; top: 0; left: 0;
    }
    .cg-board piece {
        width: 12.5%; height: 12.5%;
        background-size: contain;
    }
    .cg-board-wrap coords.ranks,
    .cg-board-wrap coords.files { font-size: 11px; }
}

/***************************************************/
/* Optimización específica para 1024x600 y 1024x768*/
/***************************************************/
@media (min-width: 1000px) and (max-width: 1100px) and (max-height: 770px) {
    .container-fluid {
        max-width: 1010px; max-height: 575px;
        padding: 0 5px;
    }
    .card-body { padding: 5px; }
    #xboardsection { max-width: 1014px; max-height: 580px; }
    .evaluation-container-horizontal { max-width: 1014px; margin: 0 auto; height: 15px; }

    .scroll_movelist {
        height: 160px; min-height: 160px; max-height: 160px;
        overflow-y: auto; overflow-x: hidden;
        margin: 3px 0; scroll-behavior: smooth;
    }
    .scroll_movelist .card-body { padding: 2px 5px; }
    .scroll_movelist #pgn, .scroll_movelist #pgn h4, .scroll_movelist #pgn h5 {
        margin: 0; padding: 0; line-height: 1.2; font-size: 20px; text-align: center;
    }
    .scroll_movelist .gameMoves { margin: 0; padding: 0; line-height: 1.4; font-size: 20px; }
    .scroll_movelist .gameResult { margin: 0; padding: 0; display: inline; }
    .scroll_movelist .comment, .scroll_movelist .gameVariation { margin: 0; padding: 0; }

    .container > .row:nth-child(3) { margin: 2px 0; flex: 0 0 auto; }
    .container > .row:nth-child(3) .card { margin-bottom: 2px; flex: none; min-height: 170px; }

    .scroll_movelist .text-warning { scroll-margin-top: 30px; scroll-margin-bottom: 30px; }
    .gameMoves { white-space: normal; }

    .scroll_obooklist, .scroll_engine, #GameTable_wrapper { height: 250px; max-height: 250px; }

    .gameMoves, .bookMoves { font-size: 2vw; }
    #DGTClockText { font-size: 3.5vh; }
    #DGTClockStatus { font-size: 2.5vh; }
    .card-header { font-size: 1.8vh; padding: 3px; }
    .btn-group .btn { padding: 0.3rem 0.5rem; }
    #clockbuttons { padding: 5px 0; }
    .nav-pills .nav-link { padding: 6px 8px; font-size: 0.85rem; }
    #data { margin-top: 2px; }
    #data.card { height: 290px; }
    .scan-controls { padding: 8px; }
    .scan-controls .row { margin-bottom: 8px; }
    .scan-controls .btn { padding: 0.4rem 0.6rem; font-size: 0.85rem; }
    .form-check-label { font-size: 0.8rem; }
}

/*****************************************/
/* Optimización específica para 1280x720 */
/*****************************************/
@media (min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 740px) {
    #xboardsection { max-width: 1270px; max-height: 710px; }
    .evaluation-container-horizontal { max-width: 1270px; margin: 0 auto; }
    .scroll_movelist {
        height: 180px; min-height: 180px; max-height: 180px;
        overflow-y: auto; overflow-x: hidden;
        margin: 12px 0; scroll-behavior: smooth;
    }
    .scroll_movelist .text-warning { scroll-margin-top: 75px; scroll-margin-bottom: 75px; }
    .gameMoves { white-space: normal; }
    .scroll_obooklist, .scroll_engine, #GameTable_wrapper { height: 320px; max-height: 320px; }
    .gameMoves, .bookMoves { font-size: 1.6vw; }
    #data.card { height: 41.5vh; min-height: 30vh; max-height: 50vh; }
    body { overflow-y: hidden; max-height: 720px; }
    .scroll-portrait { height: 720px; max-height: 720px; overflow-y: hidden; }
    .container-fluid > .row > .col:first-child { flex: 0 0 48%; max-width: 48%; }
    .container-fluid > .row > .col:last-child { flex: 0 0 52%; max-width: 52%; }
}

/* Estilos comunes */
.cg-board piece.dragging { cursor: move; z-index: 999; }
piece { pointer-events: auto; }
.cg-board square.move-dest { background: radial-gradient(rgba(20,85,30,0.6) 22%, #208530 0, rgba(0,0,0,0.4) 0, rgba(0,0,0,0) 0); }
.cg-board square.last-move { background-color: rgba(155,199,0,0.5); }

.promotion-overlay {
    width: 100%; height: 100%;
    position: absolute; top: 0; left: 0;
    z-index: 1000;
}
.promotion-overlay square { width: 12.5%; height: 12.5%; }
.promotion-overlay piece { width: 80%; height: 80%; top: 10%; left: 10%; }

@media (min-width: 1000px) and (max-width: 1100px) and (max-height: 650px),
       (min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 740px) {
    .container-fluid > .row { margin-top: 10px; }
    .container-fluid > .row > .col:first-child { flex: 0 0 48%; max-width: 48%; }
    .container-fluid > .row > .col:last-child { flex: 0 0 52%; max-width: 52%; }
    .card { margin-bottom: 3px; }
    #boardButtons { margin: 5px 0; }
    #board_panel .card-body { padding: 5px; }
}

/* Ajustes generales */
.scroll_movelist .text-warning { scroll-margin-top: 90px; scroll-margin-bottom: 90px; }
#data .card-body { height: calc(100% - 50px); overflow: hidden; }
#data .tab-content, #data .tab-pane { height: 100%; }
#boardcontrol { padding: 0; }
#boardcontrol > .row:last-child { min-height: 30px; }

/* Optimización del tablero para resoluciones específicas */

/* Para resoluciones 1024x600 y 1024x800 */
@media (min-width: 1000px) and (max-width: 1100px) {
    /* Asegurar que el contenedor del tablero mantenga proporción cuadrada */
    .svg-container {
        display: block;
        position: relative;
        width: 100%;
        padding-bottom: 100% !important;
        vertical-align: middle;
        overflow: hidden;
    }
    
    .svg-content {
        display: block;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
    }
    
    /* Asegurar que chessground ocupe todo el espacio */
    #board {
        width: 100% !important;
        height: 100% !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
    }
    
    .cg-board-wrap {
        width: 100% !important;
        height: 100% !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
    }
    
    /* Ajustar el tamaño de las piezas */
    .cg-board piece {
        width: 12.5% !important;
        height: 12.5% !important;
        background-size: contain !important;
    }
    
    /* Ajustar coordenadas del tablero */
    .cg-board-wrap coords.ranks {
        font-size: 11px;
    }
    
    .cg-board-wrap coords.files {
        font-size: 11px;
    }
}
/***************************************************/
/* Optimización específica para 1024x600 y 1024x768*/
/***************************************************/
@media (min-width: 1000px) and (max-width: 1100px) and (max-height: 770px) {
    /* Reducir padding general */
    .container-fluid {
        max-width: 1010px !important;
        max-height: 575px !important;
        padding-left: 5px !important;
        padding-right: 5px !important;
    }
    
    .card-body {
        padding: 5px !important;
    }
    
    /* Tablero más compacto */
    #xboardsection {
        max-width: 1014px;
        max-height: 580px;
    }
    
    /* Barra de evaluación ajustada */
    .evaluation-container-horizontal {
        max-width: 1014px;
        margin: 0 auto;
        height: 15px;
    }
    
    /* Reducir altura de elementos scrollables */
    .scroll_movelist {
        height: 160px !important;
        min-height: 160px !important;
        max-height: 160px !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        margin-top: 3px !important;
        margin-bottom: 3px !important;
        scroll-behavior: smooth !important;
    }
    
    /* Reducir padding interno del contenedor de movimientos */
    .scroll_movelist .card-body {
        padding: 2px 5px !important;
    }
    
    /* Eliminar márgenes del contenido de movimientos */
    .scroll_movelist #pgn {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .scroll_movelist #pgn h4,
    .scroll_movelist #pgn h5 {
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1.2 !important;
        font-size: 20px !important;
        text-align: center !important;
    }
    
    .scroll_movelist .gameMoves {
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1.4 !important;
        font-size: 20px !important;
    }
    
    .scroll_movelist .gameResult {
        margin: 0 !important;
        padding: 0 !important;
        display: inline !important;
    }
    
    .scroll_movelist .comment,
    .scroll_movelist .gameVariation {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Reducir márgenes del contenedor row de movimientos */
    .container > .row:nth-child(3) {
        margin-top: 2px !important;
        margin-bottom: 2px !important;
        flex: 0 0 auto !important; /* Desactivar flex, usar altura fija */
        min-height: auto !important;
    }
    
    .container > .row:nth-child(3) .card {
        margin-bottom: 2px !important;
        flex: none !important; /* Desactivar flex del card */
        height: auto !important;
        min-height: 170px !important; /* Asegurar altura mínima */
    }
    
    .scroll_movelist .text-warning {
        scroll-margin-top: 30px;
        scroll-margin-bottom: 30px;
    }
    
    .gameMoves {
        white-space: normal;
    }
    
    .scroll_obooklist,
    .scroll_engine {
        height: 250px;
        max-height: 250px;
    }
    
    #GameTable_wrapper {
        min-height: 250px;
        max-height: 250px;
    }
    
    /* Reducir tamaño de fuentes */
    .gameMoves, .bookMoves {
        font-size: 2vw;
    }
    
    #DGTClockText {
        font-size: 3.5vh;
    }
    
    #DGTClockStatus {
        font-size: 2.5vh;
    }
    
    .card-header {
        font-size: 1.8vh !important;
        padding: 3px !important;
    }
    
    /* Botones más compactos */
    .btn-group .btn {
        padding: 0.3rem 0.5rem !important;
    }
    
    #clockbuttons {
        padding-top: 5px;
        padding-bottom: 5px;
    }
    
    /* Tabs más compactos */
    .nav-pills .nav-link {
        padding: 6px 8px !important;
        font-size: 0.85rem !important;
    }
    
    #data {
        margin-top: 2px;
    }

    #data.card {
        height: 290px !important;
        min-height: 290px !important;
        max-height: 290px !important;
    }

    /* Controles de Scan más compactos */
    .scan-controls {
        padding: 8px !important;
    }
    
    .scan-controls .row {
        margin-bottom: 8px !important;
    }
    
    .scan-controls .btn {
        padding: 0.4rem 0.6rem !important;
        font-size: 0.85rem !important;
    }
    
    .form-check-label {
        font-size: 0.8rem !important;
    }
        #boardControlButtons {
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between;
        align-items: center;
        gap: 5px;
        flex-wrap: nowrap;
    }

    #boardControlButtons button {
        font-size: 0.75rem !important;
        padding: 0.2rem 0.4rem !important;
        min-width: unset !important;
        width: auto !important;
        flex: 1 1 auto;
    }

    #btn-mute {
        width: auto !important;
        height: 40px !important;
        font-size: 18px !important;
        padding: 0 !important;
    }

    #btn-mute span {
        font-size: 16px !important;
    }
}
/*****************************************/
/* Optimización específica para 1280x800 */
/*****************************************/
@media (min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 850px) {
    /* Tablero más grande aprovechando la altura */
    #xboardsection {
        max-width: 1270px;
        max-height: 790px;
    }
    
    /* Barra de evaluación ajustada al ancho del tablero */
    .evaluation-container-horizontal {
        max-width: 1270px;
        margin: 0 auto;
    }
    
    /* Reducir altura de elementos scrollables */
    .scroll_movelist {
        height: 180px !important;
        min-height: 180px !important;
        max-height: 180px !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        margin-top: 12px !important;
        margin-bottom: 12px !important;
        scroll-behavior: smooth !important;
    }
    
    .scroll_movelist .text-warning {
        scroll-margin-top: 75px;
        scroll-margin-bottom: 75px;
    }
    
    .gameMoves {
        white-space: normal;
    }
    
    .scroll_obooklist,
    .scroll_engine {
        height: 320px;
        max-height: 320px;
    }
    
    #GameTable_wrapper {
        min-height: 320px;
        max-height: 320px;
    }
    
    /* Fuentes optimizadas */
    .gameMoves, .bookMoves {
        font-size: 1.6vw;
    }
    
    #data.card {
        height: 41.5vh;
        min-height: 30vh;
        max-height: 50vh;
    }
    
    /* Prevenir scroll vertical */
    body {
        overflow-y: hidden !important;
        max-height: 800px;
    }
    
    .scroll-portrait {
        height: 800px;
        max-height: 800px;
        overflow-y: hidden;
    }
    
    /* Layout de columnas */
    .container-fluid > .row > .col:first-child {
        flex: 0 0 48% !important;
        max-width: 48% !important;
    }
    
    .container-fluid > .row > .col:last-child {
        flex: 0 0 52% !important;
        max-width: 52% !important;
    }
}

/* Prevenir desbordamiento de piezas */
.cg-board piece.dragging {
    cursor: move;
    z-index: 999 !important;
}

/* Asegurar que las piezas se vean correctamente */
piece {
    pointer-events: auto !important;
}

/* Mejorar la visualización de movimientos posibles */
.cg-board square.move-dest {
    background: radial-gradient(rgba(20, 85, 30, 0.6) 22%, #208530 0, rgba(0, 0, 0, 0.4) 0, rgba(0, 0, 0, 0) 0) !important;
}

/* Mejorar la visualización del último movimiento */
.cg-board square.last-move {
    background-color: rgba(155, 199, 0, 0.5) !important;
}

/* Asegurar que la promoción se vea correctamente */
.promotion-overlay {
    width: 100% !important;
    height: 100% !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1000 !important;
}

.promotion-overlay square {
    width: 12.5% !important;
    height: 12.5% !important;
}

.promotion-overlay piece {
    width: 80% !important;
    height: 80% !important;
    top: 10% !important;
    left: 10% !important;
}

/* Estilos comunes para 1024x600 y 1280x800 */
@media ((min-width: 1000px) and (max-width: 1100px) and (max-height: 650px)), ((min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 850px)) {
    /* Espacio superior estético */
    .container-fluid > .row {
        margin-top: 10px;
    }
    
    /* Asegurar que las columnas se distribuyan correctamente */
    .container-fluid > .row > .col:first-child {
        flex: 0 0 48% !important;
        max-width: 48% !important;
    }
    
    .container-fluid > .row > .col:last-child {
        flex: 0 0 52% !important;
        max-width: 52% !important;
    }
    
    /* Ajustar altura de cards */
    .card {
        margin-bottom: 3px;
    }
    
    /* Reducir espacio entre botones */
    #boardButtons {
        margin-top: 5px;
        margin-bottom: 5px;
    }
    
    /* Optimizar espacio del tablero */
    #board_panel .card-body {
        padding: 5px !important;
    }
}

/* Asegurar que el movimiento activo se vea centrado */
.scroll_movelist .text-warning {
    scroll-margin-top: 90px;
    scroll-margin-bottom: 90px;
}

#data .card-body {
    height: calc(100% - 50px) !important;
    overflow: hidden !important;
}

#data .tab-content {
    height: 100% !important;
}

#data .tab-pane {
    height: 100% !important;
}

/* Reducir espacio del boardcontrol - TODAS LAS RESOLUCIONES */
#boardcontrol {
    padding-left: 0px !important;
    padding-right: 0px !important;
}

#boardcontrol > .row:last-child {

    min-height: 30px !important;
}
